<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Life Manager - Comrade Ibn Imam</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
        }
        
        .elegant-font {
            font-family: 'Playfair Display', serif;
        }
        
        .comrade-gradient {
            background: linear-gradient(135deg, #7c3aed 0%, #4f46e5 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .task-item {
            transition: all 0.3s ease;
            border-left: 4px solid;
        }
        
        .task-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .priority-important { border-left-color: #dc2626; background: linear-gradient(90deg, #fef2f2 0%, #ffffff 100%); }
        .priority-high { border-left-color: #ea580c; background: linear-gradient(90deg, #fff7ed 0%, #ffffff 100%); }
        .priority-medium { border-left-color: #16a34a; background: linear-gradient(90deg, #f0fdf4 0%, #ffffff 100%); }
        .priority-low { border-left-color: #2563eb; background: linear-gradient(90deg, #eff6ff 0%, #ffffff 100%); }
        
        .status-pending { 
            background: #fef3c7; 
            color: #d97706;
            border: 1px solid #fbbf24;
        }
        .status-in-progress { 
            background: #dbeafe; 
            color: #1d4ed8;
            border: 1px solid #60a5fa;
        }
        .status-completed { 
            background: #d1fae5; 
            color: #065f46;
            border: 1px solid #34d399;
        }
        
        .category-personal { background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); }
        .category-work { background: linear-gradient(135deg, #10b981 0%, #047857 100%); }
        .category-social { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }
        .category-health { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .category-errands { background: linear-gradient(135deg, #ec4899 0%, #db2777 100%); }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse-gentle {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        .scrollbar-thin::-webkit-scrollbar {
            width: 4px;
        }
        
        .scrollbar-thin::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
        
        .dark-card {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="max-w-6xl w-full glass-effect rounded-3xl shadow-2xl overflow-hidden">
        <!-- Header -->
        <div class="comrade-gradient text-white p-8">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="elegant-font text-4xl font-bold mb-2">Daily Life Manager</h1>
                    <p class="text-purple-100 text-lg">For Comrade Ibn Imam</p>
                    <p class="text-purple-200 text-sm mt-1">Elegant. Organized.</p>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="bg-white/20 p-4 rounded-2xl text-center">
                        <i class="fas fa-user-tie text-3xl mb-2"></i>
                        <p class="text-sm font-medium">Comrade Imam</p>
                    </div>
                </div>
            </div>
            
            <!-- Quick Stats -->
            <div class="grid grid-cols-4 gap-6 mt-8">
                <div class="bg-white/20 rounded-xl p-4 text-center pulse-gentle">
                    <div class="text-2xl font-bold" id="totalTasks">0</div>
                    <div class="text-sm text-purple-100">Total Tasks</div>
                </div>
                <div class="bg-white/20 rounded-xl p-4 text-center">
                    <div class="text-2xl font-bold" id="importantTasks">0</div>
                    <div class="text-sm text-purple-100">Important</div>
                </div>
                <div class="bg-white/20 rounded-xl p-4 text-center">
                    <div class="text-2xl font-bold" id="todayTasks">0</div>
                    <div class="text-sm text-purple-100">Today</div>
                </div>
                <div class="bg-white/20 rounded-xl p-4 text-center">
                    <div class="text-2xl font-bold" id="completedTasks">0</div>
                    <div class="text-sm text-purple-100">Completed</div>
                </div>
            </div>
        </div>
        
        <!-- Task Input Section -->
        <div class="p-8 bg-gray-50/50">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <div>
                    <input type="text" id="taskInput" placeholder="What needs your attention today, Comrade?" 
                           class="w-full p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 text-lg elegant-font">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <select id="taskCategory" class="p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option value="personal">Personal</option>
                        <option value="work">Work</option>
                        <option value="social">Social</option>
                        <option value="health">Health & Fitness</option>
                        <option value="errands">Errands</option>
                    </select>
                    
                    <select id="prioritySelect" class="p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option value="low">Low Priority</option>
                        <option value="medium">Medium Priority</option>
                        <option value="high">High Priority</option>
                        <option value="important">Important</option>
                    </select>
                </div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                <input type="text" id="location" placeholder="Location (Optional)" 
                       class="p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500">
                
                <input type="text" id="withWho" placeholder="With Whom (Optional)" 
                       class="p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500">
                
                <input type="datetime-local" id="dueDate" 
                       class="p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500">
            </div>
            
            <div class="flex justify-between items-center">
                <button id="addTaskBtn" class="px-8 py-4 comrade-gradient text-white rounded-xl hover:shadow-lg transition-all font-semibold text-lg">
                    <i class="fas fa-plus-circle mr-2"></i>Add Task
                </button>
                
                <div class="flex space-x-3">
                    <button id="exportBtn" class="px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors">
                        <i class="fas fa-file-export mr-2"></i>Export
                    </button>
                    <button id="clearCompleted" class="px-6 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-colors">
                        Clear Completed
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Filters and Tasks Section -->
        <div class="p-8">
            <div class="flex justify-between items-center mb-8">
                <h2 class="elegant-font text-2xl font-semibold text-gray-800">Daily Activities Dashboard</h2>
                <div class="flex space-x-3">
                    <button id="filterAll" class="filter-btn active bg-purple-100 text-purple-600 px-4 py-2 rounded-xl font-medium">
                        All Tasks
                    </button>
                    <button id="filterToday" class="filter-btn bg-gray-100 text-gray-600 px-4 py-2 rounded-xl font-medium">
                        Today
                    </button>
                    <button id="filterCompleted" class="filter-btn bg-gray-100 text-gray-600 px-4 py-2 rounded-xl font-medium">
                        Completed
                    </button>
                </div>
            </div>
            
            <!-- Category Filters -->
            <div class="mb-6 flex space-x-3 overflow-x-auto pb-4">
                <button class="category-filter active bg-white border-2 border-purple-500 text-purple-600 px-4 py-2 rounded-full font-medium">
                    All Categories
                </button>
                <button class="category-filter bg-white border border-gray-300 text-gray-600 px-4 py-2 rounded-full font-medium category-personal text-white">
                    Personal
                </button>
                <button class="category-filter bg-white border border-gray-300 text-gray-600 px-4 py-2 rounded-full font-medium category-work text-white">
                    Work
                </button>
                <button class="category-filter bg-white border border-gray-300 text-gray-600 px-4 py-2 rounded-full font-medium category-social text-white">
                    Social
                </button>
                <button class="category-filter bg-white border border-gray-300 text-gray-600 px-4 py-2 rounded-full font-medium category-health text-white">
                    Health
                </button>
            </div>
            
            <!-- Tasks List -->
            <div id="taskList" class="space-y-4 max-h-96 overflow-y-auto scrollbar-thin pr-4">
                <div id="emptyState" class="text-center text-gray-500 py-12">
                    <i class="fas fa-clipboard-list text-6xl mb-4 opacity-50"></i>
                    <p class="elegant-font text-xl mb-2">No tasks scheduled yet, Comrade</p>
                    <p class="text-gray-600">Add your first task to begin organizing your elegant lifestyle</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        class DailyLifeManager {
            constructor() {
                this.tasks = JSON.parse(localStorage.getItem('comradeTasks')) || [];
                this.taskList = document.getElementById('taskList');
                this.emptyState = document.getElementById('emptyState');
                this.currentFilter = 'all';
                this.currentCategory = 'all';
                this.init();
            }
            
            init() {
                this.bindEvents();
                this.render();
                this.updateStats();
                
                if (this.tasks.length === 0) {
                    this.addSampleTasks();
                }
            }
            
            bindEvents() {
                document.getElementById('addTaskBtn').addEventListener('click', () => this.addTask());
                document.getElementById('taskInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.addTask();
                });
                
                document.getElementById('filterAll').addEventListener('click', () => this.setFilter('all'));
                document.getElementById('filterToday').addEventListener('click', () => this.setFilter('today'));
                document.getElementById('filterCompleted').addEventListener('click', () => this.setFilter('completed'));
                
                document.getElementById('exportBtn').addEventListener('click', () => this.exportData());
                document.getElementById('clearCompleted').addEventListener('click', () => this.clearCompleted());
                
                // Category filters
                document.querySelectorAll('.category-filter').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const category = e.target.textContent.trim().toLowerCase();
                        this.setCategoryFilter(category === 'all categories' ? 'all' : category);
                    });
                });
            }
            
            addTask() {
                const taskInput = document.getElementById('taskInput');
                const taskCategory = document.getElementById('taskCategory');
                const prioritySelect = document.getElementById('prioritySelect');
                const location = document.getElementById('location');
                const withWho = document.getElementById('withWho');
                const dueDate = document.getElementById('dueDate');
                
                const taskText = taskInput.value.trim();
                const category = taskCategory.value;
                const priority = prioritySelect.value;
                const place = location.value.trim();
                const people = withWho.value.trim();
                const due = dueDate.value;

                if (taskText) {
                    const newTask = {
                        id: Date.now(),
                        text: taskText,
                        category: category,
                        priority: priority,
                        location: place || 'Not specified',
                        withWho: people || 'Alone',
                        dueDate: due,
                        status: 'pending',
                        createdAt: new Date().toISOString(),
                        completedAt: null
                    };
                    
                    this.tasks.unshift(newTask);
                    this.saveTasks();
                    this.render();
                    this.updateStats();
                    
                    // Clear inputs
                    taskInput.value = '';
                    location.value = '';
                    withWho.value = '';
                    dueDate.value = '';
                    
                    this.showNotification('Task added successfully, Comrade!', 'success');
                } else {
                    this.showNotification('Please enter a task description, Comrade!', 'error');
                }
            }
            
            removeTask(id) {
                if (confirm('Are you sure you want to delete this task, Comrade?')) {
                    this.tasks = this.tasks.filter(task => task.id !== id);
                    this.saveTasks();
                    this.render();
                    this.updateStats();
                    this.showNotification('Task removed!', 'info');
                }
            }
            
            toggleStatus(id) {
                this.tasks = this.tasks.map(task => {
                    if (task.id === id) {
                        return {
                            ...task,
                            status: task.status === 'completed' ? 'pending' : 'completed',
                            completedAt: task.status === 'pending' ? new Date().toISOString() : null
                        };
                    }
                    return task;
                });
                this.saveTasks();
                this.render();
                this.updateStats();
            }
            
            setFilter(filter) {
                this.currentFilter = filter;
                
                // Update active filter button
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.classList.remove('active', 'bg-purple-100', 'text-purple-600');
                    btn.classList.add('bg-gray-100', 'text-gray-600');
                });
                
                document.getElementById(`filter${filter.charAt(0).toUpperCase() + filter.slice(1)}`)
                    .classList.add('active', 'bg-purple-100', 'text-purple-600');
                
                this.render();
            }
            
            setCategoryFilter(category) {
                this.currentCategory = category;
                
                // Update active category filter button
                document.querySelectorAll('.category-filter').forEach(btn => {
                    btn.classList.remove('active', 'border-purple-500', 'text-purple-600');
                    btn.classList.add('border-gray-300', 'text-gray-600');
                });
                
                // Find and activate the correct button
                const buttons = document.querySelectorAll('.category-filter');
                buttons.forEach(btn => {
                    if ((category === 'all' && btn.textContent.trim() === 'All Categories') || 
                        btn.textContent.trim().toLowerCase() === category) {
                        btn.classList.add('active', 'border-purple-500', 'text-purple-600');
                    }
                });
                
                this.render();
            }
            
            getFilteredTasks() {
                let filtered = this.tasks;
                
                // Status filter
                if (this.currentFilter === 'today') {
                    const today = new Date().toDateString();
                    filtered = filtered.filter(task => {
                        if (!task.dueDate) return false;
                        return new Date(task.dueDate).toDateString() === today;
                    });
                } else if (this.currentFilter === 'completed') {
                    filtered = filtered.filter(task => task.status === 'completed');
                }
                
                // Category filter
                if (this.currentCategory !== 'all') {
                    filtered = filtered.filter(task => task.category === this.currentCategory);
                }
                
                return filtered;
            }
            
            render() {
                this.taskList.innerHTML = '';
                const filteredTasks = this.getFilteredTasks();
                
                if (filteredTasks.length === 0) {
                    this.emptyState.style.display = 'block';
                    this.taskList.appendChild(this.emptyState);
                    return;
                }
                
                this.emptyState.style.display = 'none';
                
                filteredTasks.forEach((task, index) => {
                    const li = document.createElement('li');
                    li.className = `task-item fade-in bg-white rounded-lg shadow-sm p-4 priority-${task.priority}`;
                    
                    li.innerHTML = `
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-1">
                                    <span class="px-2 py-1 rounded-full text-xs font-medium status-${task.status}">
                                        ${task.status === 'completed' ? 'Completed' : 'Pending'}
                                    </span>
                                    <span class="px-2 py-1 bg-gray-100 rounded-full text-xs text-gray-600">
                                        ${task.category.charAt(0).toUpperCase() + task.category.slice(1)}
                                    </span>
                                </div>
                                <h3 class="font-semibold text-gray-800">${task.text}</h3>
                                <div class="text-sm text-gray-600 mt-1">
                                    <div>üìç ${task.location} | üë• ${task.withWho}</div>
                                    ${task.dueDate ? `<div>‚è∞ ${new Date(task.dueDate).toLocaleString()}</div>` : ''}
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button class="status-btn px-3 py-1 rounded-lg text-white ${
                                    task.status === 'completed' ? 'bg-yellow-500 hover:bg-yellow-600' : 'bg-green-500 hover:bg-green-600'
                                } transition-colors">
                                    ${task.status === 'completed' ? 'Reopen' : 'Complete'}
                                </button>
                                <button class="delete-btn px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <div class="text-xs text-gray-500">
                            Created: ${new Date(task.createdAt).toLocaleDateString()}
                            ${task.completedAt ? ` | Completed: ${new Date(task.completedAt).toLocaleDateString()}` : ''}
                        </div>
                    `;
                    
                    li.querySelector('.status-btn').addEventListener('click', () => this.toggleStatus(task.id));
                    li.querySelector('.delete-btn').addEventListener('click', () => this.removeTask(task.id));
                    
                    this.taskList.appendChild(li);
                    
                    setTimeout(() => {
                        li.classList.add('fade-in');
                    }, index * 100);
                });
            }
            
            updateStats() {
                const totalTasks = this.tasks.length;
                const importantTasks = this.tasks.filter(task => task.priority === 'important').length;
                const today = new Date().toDateString();
                const todayTasks = this.tasks.filter(task => {
                    if (!task.dueDate) return false;
                    return new Date(task.dueDate).toDateString() === today;
                }).length;
                const completedTasks = this.tasks.filter(task => task.status === 'completed').length;
                
                document.getElementById('totalTasks').textContent = totalTasks;
                document.getElementById('importantTasks').textContent = importantTasks;
                document.getElementById('todayTasks').textContent = todayTasks;
                document.getElementById('completedTasks').textContent = completedTasks;
            }
            
            exportData() {
                const dataStr = JSON.stringify(this.tasks, null, 2);
                const dataBlob = new Blob([dataStr], {type: 'application/json'});
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `comrade-tasks-${new Date().toISOString().split('T')[0]}.json`;
                link.click();
                URL.revokeObjectURL(url);
                
                this.showNotification('Data exported successfully, Comrade!', 'success');
            }
            
            clearCompleted() {
                const completedCount = this.tasks.filter(task => task.status === 'completed').length;
                
                if (completedCount === 0) {
                    this.showNotification('No completed tasks to clear, Comrade!', 'info');
                    return;
                }
                
                if (confirm(`Are you sure you want to clear ${completedCount} completed task(s), Comrade?`)) {
                    this.tasks = this.tasks.filter(task => task.status !== 'completed');
                    this.saveTasks();
                    this.render();
                    this.updateStats();
                    this.showNotification(`Cleared ${completedCount} completed task(s)!`, 'success');
                }
            }
            
            addSampleTasks() {
                const sampleTasks = [ 

            ];
                
                this.tasks = sampleTasks;
                this.saveTasks();
                this.render();
                this.updateStats();
            }
            
            saveTasks() {
                localStorage.setItem('comradeTasks', JSON.stringify(this.tasks));
            }
            
            showNotification(message, type) {
                const notification = document.createElement('div');
                notification.className = `fixed top-4 right-4 p-4 rounded-lg shadow-lg text-white font-medium z-50 transform transition-transform duration-300 ${
                    type === 'success' ? 'bg-green-500' : 
                    type === 'error' ? 'bg-red-500' : 
                    'bg-blue-500'
                }`;
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                // Animate in
                setTimeout(() => {
                    notification.classList.add('translate-x-0');
                }, 10);
                
                // Remove after 3 seconds
                setTimeout(() => {
                    notification.classList.remove('translate-x-0');
                    notification.classList.add('translate-x-full');
                    
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            const app = new DailyLifeManager();
        });
    </script>
</body>
</html>